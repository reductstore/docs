---
sidebar_position: 3
title: Buckets
description: Bucket concept in ReductStore, managing buckets with SDks, CLI client and Web Console
---
import CodeBlock from "@theme/CodeBlock";
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Buckets

## Concepts

Bucket is a container for storing data and a logical grouping of data. Each bucket stores time-series data separated into different entries each having a unique name. If you are familiar with the concept of a database, you can think of a bucket as a database and entries as tables.

Due to the nature of time-series data, ReductStore partitions data into blocks. Each block contains a set of entries and is stored in a separate file.
The block size is limited to a maximum size and number of records. When a block reaches its limit, a new block is created and the data is stored in the new block. This allows ReductStore to efficiently store and access data.

In comparison to other blob storage of file system, ReductStore has a flat hierarchy. There is no concept of folders or directories. All data is stored in entries grouped by buckets.

## Bucket Settings

Each bucket has settings that define how data is stored and accessed. The settings include:

- **Quota Type**: The type of quota for the bucket. The quota can be set to NONE and FIFO. Default is NONE.
- **Quota Size**: The size of the quota in bytes. The default is 0 which means no quota.
- **Max Block Size**: The maximum size of a block in bytes. The default is 64MB.
- **Maximal Number of Records**: The maximum number of records in a block. The default is 1000.

### Quota Type

The quota type defines how the quota is enforced. The quota can be set to NONE or FIFO.

NONE means that there is no quota and data can be stored without any restrictions.

FIFO means that the quota is enforced using the first-in-first-out (FIFO) policy. When the quota is reached, the oldest block is deleted to make room for new data.
ReductStore guarantees that the data does not exceed the quota size and refuses to store new data if it can't make room for it.

### Quota Size

The quota size defines the maximum size of the bucket in bytes. It is ignored if the quota type is set to NONE.

### Max Block Size

The max block size defines the maximum size of a block in bytes. When a block reaches this size, a new block is created to store new data.
A record is not limited on the size of the block, if a record is larger than the block size, it will be stored in the current block and the next block will be created for the next record.

The default value is 64MB, and you usually don't need to change it unless your records are bigger than the default value.
ReductStore pre-allocates the block size when creating a new block, so it is better for performance if you can store several records in a block.


### Maximal Number of Records

The maximal number of records defines the maximum number of records in a block. When a block reaches this number of records, a new block is created to store new data.
The default value is 256, and you usually don't need to change it unless you have a lot of small records and too much blocks that affect the search performance.
To optimize the search performance, consider that searching a record contains of two steps:

* Searching the block that contains the record. The search time is O(log(n)) where n is the number of blocks.
* Searching the record in the block. The search time is O(m) where m is the number of records in the block.

If you have a lot of blocks, the search time for a block could take longer than searching the record in the block.
In this case, you can increase the maximal number of records to reduce the number of blocks.

## Creating a Bucket

You can create a bucket using the SDKs, CLI client, Web Console or REST API.
The bucket name must be unique within the store and a client must have full access permission to create a bucket.
You can also provision a bucket with environment variables. See, the example below:

import CreateBucketPy from "!!raw-loader!./examples/py/src/create_bucket.py";
import CreateBucketJs from "!!raw-loader!./examples/js/src/create_bucket.js";
import CreateBucketRs from "!!raw-loader!./examples/rs/examples/create_bucket.rs";
import CreateBucketCpp from "!!raw-loader!./examples/cpp/src/create_bucket.cc";
import CreateBucketCLI from "!!raw-loader!./examples/cli/create_bucket.sh";
import CreateBucketProvision from "!!raw-loader!./examples/provisioning/create-bucket.yml";
import CreateBucketCurl from "!!raw-loader!./examples/curl/create_bucket.sh";

<Tabs>
  <TabItem value="CLI">
    <CodeBlock language="bash">
      {CreateBucketCLI}
    </CodeBlock>
  </TabItem>
  <TabItem value="Web Console">
    Steps to create a bucket using the Web Console:
    1. Open the Web Console.
    2. Click on the "Buckets" tab.
    3. Click on the "Create Bucket" button.
    4. Enter the bucket name and settings.
    5. Click on the "Create" button.

  </TabItem>
  <TabItem value="Python">
    <CodeBlock language="python">
      {CreateBucketPy}
    </CodeBlock>
  </TabItem>
  <TabItem value="JavaScript">
    <CodeBlock language="javascript">
      {CreateBucketJs}
    </CodeBlock>
  </TabItem>
  <TabItem value="Rust">
    <CodeBlock language="rust">
      {CreateBucketRs}
    </CodeBlock>
  </TabItem>
  <TabItem value="C++">
    <CodeBlock language="cpp">
      {CreateBucketCpp}
    </CodeBlock>
  </TabItem>
  <TabItem value="cURL">
    <CodeBlock language="bash">
      {CreateBucketCurl}
    </CodeBlock>
  </TabItem>
  <TabItem value="Provision ">
    <CodeBlock language="yaml">
      {CreateBucketProvision}
    </CodeBlock>
  </TabItem>
</Tabs>

## Browse Buckets

## Changing Bucket Settings

## Deleting a Bucket